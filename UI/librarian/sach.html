<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thư viện Thông minh - Quản lý Sách</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --primary-color: #3a6ea5;
        --secondary-color: #4a90e2;
        --accent-color: #ff6b6b;
        --background-color: #f8f9fa;
        --dark-color: #343a40;
        --light-color: #ffffff;
        --border-color: #e1e5eb;
        --success-color: #28a745;
        --warning-color: #ffc107;
        --danger-color: #dc3545;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: var(--background-color);
        color: var(--dark-color);
      }

      .container {
        display: flex;
        min-height: 100vh;
      }

      /* Sidebar */
      .sidebar {
        width: 250px;
        background-color: var(--dark-color);
        color: var(--light-color);
        transition: all 0.3s ease;
        z-index: 1000;
      }

      .sidebar-header {
        padding: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: rgba(0, 0, 0, 0.2);
      }

      .sidebar-header h2 {
        font-size: 1.5rem;
        font-weight: 600;
      }

      .sidebar-header i {
        margin-right: 10px;
        color: var(--accent-color);
      }

      .sidebar-menu {
        padding: 20px 0;
      }

      .menu-category {
        padding: 0 20px;
        margin-bottom: 10px;
        font-size: 0.8rem;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.6);
      }

      .sidebar-menu ul {
        list-style: none;
      }

      .sidebar-menu li {
        margin-bottom: 5px;
      }

      .sidebar-menu a {
        display: flex;
        align-items: center;
        padding: 10px 20px;
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .sidebar-menu a:hover,
      .sidebar-menu a.active {
        background-color: rgba(255, 255, 255, 0.1);
        color: var(--light-color);
        border-left: 4px solid var(--accent-color);
      }

      .sidebar-menu i {
        margin-right: 10px;
        width: 20px;
        text-align: center;
      }

      /* Main Content */
      .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      /* Top Bar */
      .topbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 25px;
        background-color: var(--light-color);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .menu-toggle {
        font-size: 1.2rem;
        cursor: pointer;
      }

      .search-bar {
        flex: 1;
        max-width: 500px;
        margin: 0 20px;
        position: relative;
      }

      .search-bar input {
        width: 100%;
        padding: 10px 15px;
        padding-left: 40px;
        border: 1px solid var(--border-color);
        border-radius: 50px;
        font-size: 0.9rem;
        outline: none;
        transition: all 0.3s ease;
      }

      .search-bar input:focus {
        border-color: var(--secondary-color);
        box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
      }

      .search-bar i {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #999;
      }

      .user-info {
        display: flex;
        align-items: center;
      }

      .user-info .notifications {
        margin-right: 20px;
        position: relative;
      }

      .user-info .notifications i {
        font-size: 1.2rem;
        cursor: pointer;
        color: #777;
      }

      .user-info .notifications .badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background-color: var(--accent-color);
        color: var(--light-color);
        font-size: 0.7rem;
        width: 15px;
        height: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
      }

      .user-profile {
        display: flex;
        align-items: center;
        cursor: pointer;
      }

      .user-profile img {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        object-fit: cover;
        margin-right: 10px;
      }

      .user-profile span {
        font-size: 0.9rem;
        font-weight: 500;
      }

      /* Content Area */
      .content {
        padding: 25px;
        flex: 1;
        overflow-y: auto;
      }

      .page-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
      }

      .page-header .title h1 {
        font-size: 1.8rem;
        margin-bottom: 5px;
      }

      .page-header .title p {
        color: #777;
      }

      .page-actions {
        display: flex;
        gap: 10px;
      }

      .btn {
        padding: 8px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .btn-primary {
        background-color: var(--primary-color);
        color: var(--light-color);
      }

      .btn-primary:hover {
        background-color: #2a5280;
      }

      .btn-success {
        background-color: var(--success-color);
        color: var(--light-color);
      }

      .btn-success:hover {
        background-color: #218838;
      }

      .btn-danger {
        background-color: var(--danger-color);
        color: var(--light-color);
      }

      .btn-danger:hover {
        background-color: #c82333;
      }

      .btn-secondary {
        background-color: #e9ecef;
        color: #495057;
      }

      .btn-secondary:hover {
        background-color: #dde2e6;
      }

      /* Book Management */
      .filters {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-bottom: 25px;
        padding: 20px;
        background-color: var(--light-color);
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      }

      .filter-item {
        flex: 1;
        min-width: 200px;
      }

      .filter-item label {
        display: block;
        margin-bottom: 5px;
        font-size: 0.9rem;
        font-weight: 500;
        color: #555;
      }

      .filter-item select,
      .filter-item input {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--border-color);
        border-radius: 5px;
        font-size: 0.9rem;
        outline: none;
      }

      .filter-item select:focus,
      .filter-item input:focus {
        border-color: var(--secondary-color);
      }

      .filter-actions {
        display: flex;
        align-items: flex-end;
        gap: 10px;
      }

      .books-container {
        background-color: var(--light-color);
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        overflow: hidden;
      }

      .books-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 20px;
        background-color: #f8f9fa;
        border-bottom: 1px solid var(--border-color);
      }

      .books-count {
        font-size: 0.9rem;
        color: #555;
      }

      .books-view {
        display: flex;
        gap: 10px;
      }

      .view-btn {
        background: none;
        border: none;
        font-size: 1.1rem;
        color: #777;
        cursor: pointer;
        transition: color 0.3s ease;
      }

      .view-btn:hover,
      .view-btn.active {
        color: var(--primary-color);
      }

      /* Table View */
      .books-table {
        width: 100%;
        border-collapse: collapse;
      }

      .books-table th,
      .books-table td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid var(--border-color);
      }

      .books-table th {
        font-size: 0.9rem;
        font-weight: 600;
        color: #555;
        background-color: rgba(0, 0, 0, 0.02);
      }

      .books-table tr:hover {
        background-color: rgba(0, 0, 0, 0.02);
      }

      .books-table .status {
        padding: 5px 10px;
        border-radius: 50px;
        font-size: 0.8rem;
        font-weight: 500;
      }

      .status.available {
        background-color: rgba(40, 167, 69, 0.1);
        color: var(--success-color);
      }

      .status.borrowed {
        background-color: rgba(255, 193, 7, 0.1);
        color: var(--warning-color);
      }

      .status.overdue {
        background-color: rgba(220, 53, 69, 0.1);
        color: var(--danger-color);
      }

      .books-table .cover img {
        width: 40px;
        height: 60px;
        object-fit: cover;
        border-radius: 4px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .books-table .actions {
        display: flex;
        gap: 5px;
      }

      .action-btn {
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        border-radius: 4px;
        background-color: #f8f9fa;
        color: #555;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .action-btn:hover {
        background-color: var(--primary-color);
        color: var(--light-color);
      }

      .action-btn.edit:hover {
        background-color: var(--secondary-color);
      }

      .action-btn.delete:hover {
        background-color: var(--danger-color);
      }

      /* Grid View */
      .books-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        padding: 20px;
      }

      .book-card {
        background-color: var(--light-color);
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .book-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .book-cover {
        height: 200px;
        overflow: hidden;
        position: relative;
      }

      .book-cover img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
      }

      .book-card:hover .book-cover img {
        transform: scale(1.05);
      }

      .book-status {
        position: absolute;
        top: 10px;
        right: 10px;
        padding: 5px 10px;
        border-radius: 50px;
        font-size: 0.8rem;
        font-weight: 500;
        background-color: rgba(255, 255, 255, 0.8);
      }

      .book-details {
        padding: 15px;
      }

      .book-title {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 5px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .book-author {
        font-size: 0.9rem;
        color: #777;
        margin-bottom: 10px;
      }

      .book-meta {
        display: flex;
        justify-content: space-between;
        font-size: 0.8rem;
        color: #999;
        margin-bottom: 10px;
      }

      .book-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 15px;
        background-color: #f8f9fa;
        border-top: 1px solid var(--border-color);
      }

      .book-rating {
        display: flex;
        align-items: center;
        gap: 5px;
        color: #f8d148;
      }

      .book-rating span {
        color: #777;
        font-size: 0.9rem;
      }

      .book-actions {
        display: flex;
        gap: 5px;
      }

      /* Pagination */
      .pagination {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 20px;
        background-color: #f8f9fa;
        border-top: 1px solid var(--border-color);
      }

      .pagination-info {
        font-size: 0.9rem;
        color: #777;
      }

      .pagination-controls {
        display: flex;
        gap: 5px;
      }

      .pagination-btn {
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid var(--border-color);
        border-radius: 5px;
        background-color: var(--light-color);
        color: #555;
        font-size: 0.9rem;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .pagination-btn:hover {
        background-color: var(--primary-color);
        color: var(--light-color);
        border-color: var(--primary-color);
      }

      .pagination-btn.active {
        background-color: var(--primary-color);
        color: var(--light-color);
        border-color: var(--primary-color);
      }

      .pagination-btn.disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      /* Modal */
      .modal-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1500;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .modal-backdrop.show {
        opacity: 1;
        visibility: visible;
      }

      .modal {
        width: 90%;
        max-width: 600px;
        background-color: var(--light-color);
        border-radius: 10px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        transform: translateY(-20px);
        transition: transform 0.3s ease;
      }

      .modal-backdrop.show .modal {
        transform: translateY(0);
      }

      .modal-header {
        padding: 15px 20px;
        border-bottom: 1px solid var(--border-color);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .modal-header h3 {
        font-size: 1.2rem;
        font-weight: 600;
      }

      .modal-close {
        background: none;
        border: none;
        font-size: 1.2rem;
        cursor: pointer;
        color: #777;
        transition: color 0.3s ease;
      }

      .modal-close:hover {
        color: var(--danger-color);
      }

      .modal-body {
        padding: 20px;
      }

      .form-group {
        margin-bottom: 15px;
      }

      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-size: 0.9rem;
        font-weight: 500;
        color: #555;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 10px 12px;
        border: 1px solid var(--border-color);
        border-radius: 5px;
        font-size: 0.95rem;
        outline: none;
      }

      .form-group textarea {
        resize: vertical;
        min-height: 100px;
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        border-color: var(--secondary-color);
        box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.1);
      }

      .form-row {
        display: flex;
        gap: 15px;
      }

      .form-row .form-group {
        flex: 1;
      }

      .modal-footer {
        padding: 15px 20px;
        border-top: 1px solid var(--border-color);
        display: flex;
        justify-content: flex-end;
        gap: 10px;
      }

      /* Responsive */
      @media (max-width: 992px) {
        .sidebar {
          width: 70px;
        }

        .sidebar-header h2,
        .sidebar-menu span {
          display: none;
        }

        .sidebar-header {
          padding: 15px;
          justify-content: center;
        }

        .sidebar-header i {
          margin-right: 0;
          font-size: 1.5rem;
        }

        .sidebar-menu a {
          justify-content: center;
          padding: 15px;
        }

        .sidebar-menu i {
          margin-right: 0;
          font-size: 1.2rem;
        }

        .menu-category {
          text-align: center;
          padding: 10px 0;
        }

        .books-table .title {
          max-width: 150px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
      }

      @media (max-width: 768px) {
        .search-bar {
          display: none;
        }

        .user-profile span {
          display: none;
        }

        .page-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 15px;
        }

        .page-actions {
          width: 100%;
          justify-content: space-between;
        }

        .filters {
          flex-direction: column;
          gap: 10px;
        }

        .filter-actions {
          flex-direction: column;
          width: 100%;
        }

        .filter-actions .btn {
          width: 100%;
        }

        .books-header {
          flex-direction: column;
          gap: 10px;
        }

        .books-count {
          margin-bottom: 10px;
        }

        .books-view {
          width: 100%;
          justify-content: center;
        }

        .form-row {
          flex-direction: column;
          gap: 15px;
        }

        .books-table th:nth-child(3),
        .books-table td:nth-child(3),
        .books-table th:nth-child(5),
        .books-table td:nth-child(5) {
          display: none;
        }
      }

      /* Chatbot */
      .chatbot-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
      }

      .chatbot-button {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background-color: var(--primary-color);
        color: var(--light-color);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        transition: all 0.3s ease;
      }

      .chatbot-button:hover {
        transform: scale(1.05);
      }

      .chatbot-button i {
        font-size: 1.5rem;
      }

      .chatbot-window {
        position: absolute;
        bottom: 75px;
        right: 0;
        width: 350px;
        height: 500px;
        background-color: var(--light-color);
        border-radius: 15px;
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.15);
        overflow: hidden;
        display: none;
        flex-direction: column;
      }

      .chatbot-header {
        padding: 15px;
        background-color: var(--primary-color);
        color: var(--light-color);
        display: flex;
        align-items: center;
      }

      .chatbot-header .bot-avatar {
        width: 40px;
        height: 40px;
        background-color: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
      }

      .chatbot-header h3 {
        flex: 1;
        font-size: 1.1rem;
        font-weight: 500;
      }

      .chatbot-header .close-btn {
        cursor: pointer;
        font-size: 1.2rem;
      }

      .chat-messages {
        flex: 1;
        padding: 15px;
        overflow-y: auto;
      }

      .message {
        margin-bottom: 15px;
        display: flex;
        flex-direction: column;
      }

      .message.bot {
        align-items: flex-start;
      }

      .message.user {
        align-items: flex-end;
      }

      .message .bubble {
        max-width: 80%;
        padding: 10px 15px;
        border-radius: 15px;
        font-size: 0.95rem;
      }

      .message.bot .bubble {
        background-color: #f1f3f4;
        border-bottom-left-radius: 5px;
      }

      .message.user .bubble {
        background-color: var(--primary-color);
        color: var(--light-color);
        border-bottom-right-radius: 5px;
      }

      .message .time {
        font-size: 0.75rem;
        color: #999;
        margin-top: 5px;
      }

      .chat-input {
        padding: 15px;
        border-top: 1px solid var(--border-color);
        display: flex;
      }

      .chat-input input {
        flex: 1;
        padding: 10px 15px;
        border: 1px solid var(--border-color);
        border-radius: 50px;
        font-size: 0.95rem;
        outline: none;
      }

      .chat-input button {
        background-color: var(--primary-color);
        color: var(--light-color);
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-left: 10px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="sidebar-header">
          <i class="fas fa-book"></i>
          <h2>Thư viện Thông minh</h2>
        </div>
        <div class="sidebar-menu">
          <div class="menu-category">Chính</div>
          <ul>
            <li>
              <a href="#"><i class="fas fa-home"></i> <span>Tổng quan</span></a>
            </li>
            <li>
              <a href="#" class="active"
                ><i class="fas fa-book"></i> <span>Sách</span></a
              >
            </li>
            <li>
              <a href="#"
                ><i class="fas fa-users"></i> <span>Thành viên</span></a
              >
            </li>
            <li>
              <a href="#"
                ><i class="fas fa-exchange-alt"></i> <span>Mượn trả</span></a
              >
            </li>
            <li>
              <a href="#"
                ><i class="fas fa-calendar-alt"></i> <span>Đặt lịch</span></a
              >
            </li>
          </ul>
          <div class="menu-category">Quản lý</div>
          <ul>
            <li>
              <a href="#"
                ><i class="fas fa-th-large"></i> <span>Danh mục</span></a
              >
            </li>
            <li>
              <a href="#"
                ><i class="fas fa-building"></i> <span>Nhà xuất bản</span></a
              >
            </li>
            <li>
              <a href="#"
                ><i class="fas fa-pen-fancy"></i> <span>Tác giả</span></a
              >
            </li>
            <li>
              <a href="#"><i class="fas fa-bell"></i> <span>Thông báo</span></a>
            </li>
          </ul>
          <div class="menu-category">Cài đặt</div>
          <ul>
            <li>
              <a href="#"><i class="fas fa-cog"></i> <span>Thiết lập</span></a>
            </li>
            <li>
              <a href="#"
                ><i class="fas fa-user-shield"></i> <span>Phân quyền</span></a
              >
            </li>
            <li>
              <a href="#"
                ><i class="fas fa-sign-out-alt"></i> <span>Đăng xuất</span></a
              >
            </li>
          </ul>
        </div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Top Bar -->
        <div class="topbar">
          <div class="menu-toggle">
            <i class="fas fa-bars"></i>
          </div>
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Tìm kiếm sách, thành viên..." />
          </div>
          <div class="user-info">
            <div class="notifications">
              <i class="far fa-bell"></i>
              <span class="badge">3</span>
            </div>
            <div class="user-profile">
              <img
                src="https://randomuser.me/api/portraits/men/85.jpg"
                alt="Người dùng"
              />
              <span>Quản trị viên</span>
            </div>
          </div>
        </div>

        <!-- Content Area -->
        <div class="content">
          <!-- Page Header -->
          <div class="page-header">
            <div class="title">
              <h1>Quản lý Sách</h1>
              <p>Quản lý toàn bộ sách trong thư viện</p>
            </div>
            <div class="page-actions">
              <button class="btn btn-success" id="import-btn">
                <i class="fas fa-file-import"></i> Nhập Excel
              </button>
              <button class="btn btn-primary" id="add-book-btn">
                <i class="fas fa-plus"></i> Thêm sách mới
              </button>
            </div>
          </div>

          <!-- Filters -->
          <div class="filters">
            <div class="filter-item">
              <label for="category">Danh mục</label>
              <select id="category">
                <option value="">Tất cả danh mục</option>
                <option value="1">Văn học Việt Nam</option>
                <option value="2">Văn học nước ngoài</option>
                <option value="3">Khoa học - Kỹ thuật</option>
                <option value="4">Kinh tế - Quản lý</option>
                <option value="5">Giáo trình</option>
                <option value="6">Sách thiếu nhi</option>
              </select>
            </div>
            <div class="filter-item">
              <label for="author">Tác giả</label>
              <select id="author">
                <option value="">Tất cả tác giả</option>
                <option value="1">Tô Hoài</option>
                <option value="2">Nguyễn Nhật Ánh</option>
                <option value="3">Paulo Coelho</option>
                <option value="4">Dale Carnegie</option>
                <option value="5">J.K. Rowling</option>
              </select>
            </div>
            <div class="filter-item">
              <label for="publisher">Nhà xuất bản</label>
              <select id="publisher">
                <option value="">Tất cả NXB</option>
                <option value="1">NXB Kim Đồng</option>
                <option value="2">NXB Trẻ</option>
                <option value="3">NXB Giáo dục</option>
                <option value="4">NXB Tổng hợp TP.HCM</option>
                <option value="5">NXB Hội Nhà văn</option>
              </select>
            </div>
            <div class="filter-item">
              <label for="status">Trạng thái</label>
              <select id="status">
                <option value="">Tất cả trạng thái</option>
                <option value="available">Có sẵn</option>
                <option value="borrowed">Đang mượn</option>
                <option value="overdue">Quá hạn</option>
                <option value="reserved">Đã đặt trước</option>
              </select>
            </div>
            <div class="filter-actions">
              <button class="btn btn-primary">
                <i class="fas fa-filter"></i> Lọc
              </button>
              <button class="btn btn-secondary">
                <i class="fas fa-redo"></i> Đặt lại
              </button>
            </div>
          </div>

          <!-- Books Container -->
          <div class="books-container">
            <div class="books-header">
              <div class="books-count">Hiển thị 1-10 của 2,543 sách</div>
              <div class="books-view">
                <button class="view-btn active" id="table-view-btn">
                  <i class="fas fa-list"></i>
                </button>
                <button class="view-btn" id="grid-view-btn">
                  <i class="fas fa-th-large"></i>
                </button>
              </div>
            </div>

            <!-- Table View (default) -->
            <div id="table-view">
              <table class="books-table">
                <thead>
                  <tr>
                    <th style="width: 60px">Ảnh</th>
                    <th>Tiêu đề</th>
                    <th>Tác giả</th>
                    <th>Danh mục</th>
                    <th>NXB</th>
                    <th>Trạng thái</th>
                    <th style="width: 100px">Thao tác</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="cover">
                      <img
                        src="https://m.media-amazon.com/images/I/71CtFUWVXKL._AC_UF1000,1000_QL80_.jpg"
                        alt="Dế Mèn Phiêu Lưu Ký"
                      />
                    </td>
                    <td class="title">Dế Mèn Phiêu Lưu Ký</td>
                    <td>Tô Hoài</td>
                    <td>Văn học Việt Nam</td>
                    <td>NXB Kim Đồng</td>
                    <td>
                      <span class="status available">Có sẵn</span>
                    </td>
                    <td class="actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="action-btn delete" title="Xóa">
                        <i class="fas fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="cover">
                      <img
                        src="https://m.media-amazon.com/images/I/71aFt4+OTOL.jpg"
                        alt="Nhà Giả Kim"
                      />
                    </td>
                    <td class="title">Nhà Giả Kim</td>
                    <td>Paulo Coelho</td>
                    <td>Văn học nước ngoài</td>
                    <td>NXB Hội Nhà văn</td>
                    <td>
                      <span class="status borrowed">Đang mượn</span>
                    </td>
                    <td class="actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="action-btn delete" title="Xóa">
                        <i class="fas fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="cover">
                      <img
                        src="https://m.media-amazon.com/images/I/71x1FBVW5LL._AC_UF1000,1000_QL80_.jpg"
                        alt="Đắc Nhân Tâm"
                      />
                    </td>
                    <td class="title">Đắc Nhân Tâm</td>
                    <td>Dale Carnegie</td>
                    <td>Kỹ năng sống</td>
                    <td>NXB Tổng hợp TP.HCM</td>
                    <td>
                      <span class="status available">Có sẵn</span>
                    </td>
                    <td class="actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="action-btn delete" title="Xóa">
                        <i class="fas fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="cover">
                      <img
                        src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcScI7J-z-tP6CfDLPHqQH_kHj_Qjmz_uOxGUxNNdVBnmPbrgE6b"
                        alt="Harry Potter và Hòn đá Phù thủy"
                      />
                    </td>
                    <td class="title">Harry Potter và Hòn đá Phù thủy</td>
                    <td>J.K. Rowling</td>
                    <td>Văn học nước ngoài</td>
                    <td>NXB Trẻ</td>
                    <td>
                      <span class="status borrowed">Đang mượn</span>
                    </td>
                    <td class="actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="action-btn delete" title="Xóa">
                        <i class="fas fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="cover">
                      <img
                        src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ0LlVn9Y-dw-y7XkDkaA7C1AnLGSc0tOc_QJV03kV3NSb4QwF2"
                        alt="Tôi thấy hoa vàng trên cỏ xanh"
                      />
                    </td>
                    <td class="title">Tôi thấy hoa vàng trên cỏ xanh</td>
                    <td>Nguyễn Nhật Ánh</td>
                    <td>Văn học Việt Nam</td>
                    <td>NXB Trẻ</td>
                    <td>
                      <span class="status overdue">Quá hạn</span>
                    </td>
                    <td class="actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="action-btn delete" title="Xóa">
                        <i class="fas fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="cover">
                      <img
                        src="https://m.media-amazon.com/images/I/71KjoTnBqIL._AC_UF1000,1000_QL80_.jpg"
                        alt="Chiếc lá cuối cùng"
                      />
                    </td>
                    <td class="title">Chiếc lá cuối cùng</td>
                    <td>O. Henry</td>
                    <td>Văn học nước ngoài</td>
                    <td>NXB Văn học</td>
                    <td>
                      <span class="status available">Có sẵn</span>
                    </td>
                    <td class="actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="action-btn delete" title="Xóa">
                        <i class="fas fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="cover">
                      <img
                        src="https://m.media-amazon.com/images/I/81E5PGDF8zL._AC_UF1000,1000_QL80_.jpg"
                        alt="Sách Giáo Khoa Toán Học 12"
                      />
                    </td>
                    <td class="title">Sách Giáo Khoa Toán Học 12</td>
                    <td>Bộ Giáo dục</td>
                    <td>Giáo trình</td>
                    <td>NXB Giáo dục</td>
                    <td>
                      <span class="status borrowed">Đang mượn</span>
                    </td>
                    <td class="actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="action-btn delete" title="Xóa">
                        <i class="fas fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Grid View (hidden by default) -->
            <div id="grid-view" style="display: none">
              <div class="books-grid">
                <div class="book-card">
                  <div class="book-cover">
                    <img
                      src="https://m.media-amazon.com/images/I/71CtFUWVXKL._AC_UF1000,1000_QL80_.jpg"
                      alt="Dế Mèn Phiêu Lưu Ký"
                    />
                    <div class="book-status status available">Có sẵn</div>
                  </div>
                  <div class="book-details">
                    <div class="book-title">Dế Mèn Phiêu Lưu Ký</div>
                    <div class="book-author">Tô Hoài</div>
                    <div class="book-meta">
                      <div>Văn học Việt Nam</div>
                      <div>2018</div>
                    </div>
                  </div>
                  <div class="book-footer">
                    <div class="book-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star-half-alt"></i>
                      <span>4.5</span>
                    </div>
                    <div class="book-actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="book-card">
                  <div class="book-cover">
                    <img
                      src="https://m.media-amazon.com/images/I/71aFt4+OTOL.jpg"
                      alt="Nhà Giả Kim"
                    />
                    <div class="book-status status borrowed">Đang mượn</div>
                  </div>
                  <div class="book-details">
                    <div class="book-title">Nhà Giả Kim</div>
                    <div class="book-author">Paulo Coelho</div>
                    <div class="book-meta">
                      <div>Văn học nước ngoài</div>
                      <div>2020</div>
                    </div>
                  </div>
                  <div class="book-footer">
                    <div class="book-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <span>5.0</span>
                    </div>
                    <div class="book-actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="book-card">
                  <div class="book-cover">
                    <img
                      src="https://m.media-amazon.com/images/I/71x1FBVW5LL._AC_UF1000,1000_QL80_.jpg"
                      alt="Đắc Nhân Tâm"
                    />
                    <div class="book-status status available">Có sẵn</div>
                  </div>
                  <div class="book-details">
                    <div class="book-title">Đắc Nhân Tâm</div>
                    <div class="book-author">Dale Carnegie</div>
                    <div class="book-meta">
                      <div>Kỹ năng sống</div>
                      <div>2019</div>
                    </div>
                  </div>
                  <div class="book-footer">
                    <div class="book-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="far fa-star"></i>
                      <span>4.0</span>
                    </div>
                    <div class="book-actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="book-card">
                  <div class="book-cover">
                    <img
                      src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcScI7J-z-tP6CfDLPHqQH_kHj_Qjmz_uOxGUxNNdVBnmPbrgE6b"
                      alt="Harry Potter và Hòn đá Phù thủy"
                    />
                    <div class="book-status status borrowed">Đang mượn</div>
                  </div>
                  <div class="book-details">
                    <div class="book-title">
                      Harry Potter và Hòn đá Phù thủy
                    </div>
                    <div class="book-author">J.K. Rowling</div>
                    <div class="book-meta">
                      <div>Văn học nước ngoài</div>
                      <div>2017</div>
                    </div>
                  </div>
                  <div class="book-footer">
                    <div class="book-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star-half-alt"></i>
                      <span>4.7</span>
                    </div>
                    <div class="book-actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="book-card">
                  <div class="book-cover">
                    <img
                      src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ0LlVn9Y-dw-y7XkDkaA7C1AnLGSc0tOc_QJV03kV3NSb4QwF2"
                      alt="Tôi thấy hoa vàng trên cỏ xanh"
                    />
                    <div class="book-status status overdue">Quá hạn</div>
                  </div>
                  <div class="book-details">
                    <div class="book-title">Tôi thấy hoa vàng trên cỏ xanh</div>
                    <div class="book-author">Nguyễn Nhật Ánh</div>
                    <div class="book-meta">
                      <div>Văn học Việt Nam</div>
                      <div>2018</div>
                    </div>
                  </div>
                  <div class="book-footer">
                    <div class="book-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="far fa-star"></i>
                      <span>4.2</span>
                    </div>
                    <div class="book-actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="book-card">
                  <div class="book-cover">
                    <img
                      src="https://m.media-amazon.com/images/I/71KjoTnBqIL._AC_UF1000,1000_QL80_.jpg"
                      alt="Chiếc lá cuối cùng"
                    />
                    <div class="book-status status available">Có sẵn</div>
                  </div>
                  <div class="book-details">
                    <div class="book-title">Chiếc lá cuối cùng</div>
                    <div class="book-author">O. Henry</div>
                    <div class="book-meta">
                      <div>Văn học nước ngoài</div>
                      <div>2020</div>
                    </div>
                  </div>
                  <div class="book-footer">
                    <div class="book-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star-half-alt"></i>
                      <i class="far fa-star"></i>
                      <span>3.6</span>
                    </div>
                    <div class="book-actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="book-card">
                  <div class="book-cover">
                    <img
                      src="https://m.media-amazon.com/images/I/81E5PGDF8zL._AC_UF1000,1000_QL80_.jpg"
                      alt="Sách Giáo Khoa Toán Học 12"
                    />
                    <div class="book-status status borrowed">Đang mượn</div>
                  </div>
                  <div class="book-details">
                    <div class="book-title">Sách Giáo Khoa Toán Học 12</div>
                    <div class="book-author">Bộ Giáo dục</div>
                    <div class="book-meta">
                      <div>Giáo trình</div>
                      <div>2021</div>
                    </div>
                  </div>
                  <div class="book-footer">
                    <div class="book-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="far fa-star"></i>
                      <i class="far fa-star"></i>
                      <span>3.0</span>
                    </div>
                    <div class="book-actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="book-card">
                  <div class="book-cover">
                    <img
                      src="https://m.media-amazon.com/images/I/61bN23DNq+L._AC_UF1000,1000_QL80_.jpg"
                      alt="Không gia đình"
                    />
                    <div class="book-status status available">Có sẵn</div>
                  </div>
                  <div class="book-details">
                    <div class="book-title">Không gia đình</div>
                    <div class="book-author">Hector Malot</div>
                    <div class="book-meta">
                      <div>Văn học nước ngoài</div>
                      <div>2019</div>
                    </div>
                  </div>
                  <div class="book-footer">
                    <div class="book-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <span>4.9</span>
                    </div>
                    <div class="book-actions">
                      <button class="action-btn view" title="Xem chi tiết">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="action-btn edit" title="Chỉnh sửa">
                        <i class="fas fa-edit"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pagination -->
            <div class="pagination">
              <div class="pagination-info">Hiển thị 1-10 của 2,543 sách</div>
              <div class="pagination-controls">
                <button class="pagination-btn disabled">
                  <i class="fas fa-angle-double-left"></i>
                </button>
                <button class="pagination-btn disabled">
                  <i class="fas fa-angle-left"></i>
                </button>
                <button class="pagination-btn active">1</button>
                <button class="pagination-btn">2</button>
                <button class="pagination-btn">3</button>
                <button class="pagination-btn">4</button>
                <button class="pagination-btn">5</button>
                <button class="pagination-btn">
                  <i class="fas fa-angle-right"></i>
                </button>
                <button class="pagination-btn">
                  <i class="fas fa-angle-double-right"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add/Edit Book Modal (hidden by default) -->
    <div class="modal-backdrop" id="book-modal">
      <div class="modal">
        <div class="modal-header">
          <h3>Thêm sách mới</h3>
          <button class="modal-close">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-row">
            <div class="form-group">
              <label for="book-title">Tiêu đề</label>
              <input
                type="text"
                id="book-title"
                placeholder="Nhập tiêu đề sách"
              />
            </div>
            <div class="form-group">
              <label for="book-isbn">Mã ISBN</label>
              <input type="text" id="book-isbn" placeholder="Nhập mã ISBN" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="book-author">Tác giả</label>
              <select id="book-author">
                <option value="">Chọn tác giả</option>
                <option value="1">Tô Hoài</option>
                <option value="2">Nguyễn Nhật Ánh</option>
                <option value="3">Paulo Coelho</option>
                <option value="4">Dale Carnegie</option>
                <option value="5">J.K. Rowling</option>
              </select>
            </div>
            <div class="form-group">
              <label for="book-category">Danh mục</label>
              <select id="book-category">
                <option value="">Chọn danh mục</option>
                <option value="1">Văn học Việt Nam</option>
                <option value="2">Văn học nước ngoài</option>
                <option value="3">Khoa học - Kỹ thuật</option>
                <option value="4">Kinh tế - Quản lý</option>
                <option value="5">Giáo trình</option>
                <option value="6">Sách thiếu nhi</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="book-publisher">Nhà xuất bản</label>
              <select id="book-publisher">
                <option value="">Chọn nhà xuất bản</option>
                <option value="1">NXB Kim Đồng</option>
                <option value="2">NXB Trẻ</option>
                <option value="3">NXB Giáo dục</option>
                <option value="4">NXB Tổng hợp TP.HCM</option>
                <option value="5">NXB Hội Nhà văn</option>
              </select>
            </div>
            <div class="form-group">
              <label for="book-year">Năm xuất bản</label>
              <input
                type="number"
                id="book-year"
                placeholder="Nhập năm xuất bản"
              />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="book-quantity">Số lượng</label>
              <input
                type="number"
                id="book-quantity"
                placeholder="Nhập số lượng"
              />
            </div>
            <div class="form-group">
              <label for="book-location">Vị trí</label>
              <input
                type="text"
                id="book-location"
                placeholder="Nhập vị trí sách"
              />
            </div>
          </div>
          <div class="form-group">
            <label for="book-cover">Ảnh bìa</label>
            <input type="file" id="book-cover" accept="image/*" />
          </div>
          <div class="form-group">
            <label for="book-description">Mô tả</label>
            <textarea
              id="book-description"
              placeholder="Nhập mô tả sách"
            ></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary modal-close-btn">Hủy</button>
          <button class="btn btn-primary modal-save-btn">Lưu</button>
        </div>
      </div>
    </div>

    <!-- Chatbot -->
    <div class="chatbot-container">
      <div class="chatbot-button">
        <i class="fas fa-robot"></i>
      </div>
      <div class="chatbot-window">
        <div class="chatbot-header">
          <div class="bot-avatar">
            <i class="fas fa-robot"></i>
          </div>
          <h3>Trợ lý thư viện</h3>
          <div class="close-btn">
            <i class="fas fa-times"></i>
          </div>
        </div>
        <div class="chat-messages">
          <div class="message bot">
            <div class="bubble">
              Xin chào! Tôi là trợ lý AI của thư viện. Tôi có thể giúp bạn tìm
              sách, kiểm tra tình trạng mượn/trả, hoặc trả lời các câu hỏi về
              thư viện. Bạn cần giúp đỡ gì?
            </div>
            <div class="time">10:30</div>
          </div>
          <div class="message user">
            <div class="bubble">Tôi muốn tìm sách về lập trình Python</div>
            <div class="time">10:31</div>
          </div>
          <div class="message bot">
            <div class="bubble">
              Tôi đã tìm thấy 15 sách về Python trong thư viện. Một số sách nổi
              bật bao gồm:
              <br /><br />
              1. "Python Crash Course" - Eric Matthes
              <br />
              2. "Automate the Boring Stuff with Python" - Al Sweigart
              <br />
              3. "Learning Python" - Mark Lutz
              <br /><br />
              Bạn muốn biết thêm chi tiết về quyển sách nào?
            </div>
            <div class="time">10:31</div>
          </div>
        </div>
        <div class="chat-input">
          <input type="text" placeholder="Nhập tin nhắn..." />
          <button>
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>
    </div>

    <script>
      // Toggle Sidebar
      document
        .querySelector(".menu-toggle")
        .addEventListener("click", function () {
          document.querySelector(".sidebar").classList.toggle("collapsed");
          document.querySelector(".main-content").classList.toggle("expanded");
        });

      // Toggle View (Table/Grid)
      document
        .getElementById("table-view-btn")
        .addEventListener("click", function () {
          document.getElementById("table-view").style.display = "block";
          document.getElementById("grid-view").style.display = "none";
          document.getElementById("table-view-btn").classList.add("active");
          document.getElementById("grid-view-btn").classList.remove("active");
        });

      document
        .getElementById("grid-view-btn")
        .addEventListener("click", function () {
          document.getElementById("table-view").style.display = "none";
          document.getElementById("grid-view").style.display = "block";
          document.getElementById("grid-view-btn").classList.add("active");
          document.getElementById("table-view-btn").classList.remove("active");
        });

      // Book Modal
      const bookModal = document.getElementById("book-modal");
      const addBookBtn = document.getElementById("add-book-btn");
      const modalCloseBtn = document.querySelector(".modal-close");
      const modalCloseBtnFooter = document.querySelector(".modal-close-btn");

      addBookBtn.addEventListener("click", function () {
        bookModal.classList.add("show");
      });

      modalCloseBtn.addEventListener("click", function () {
        bookModal.classList.remove("show");
      });

      modalCloseBtnFooter.addEventListener("click", function () {
        bookModal.classList.remove("show");
      });

      // Edit Book Button
      document.querySelectorAll(".action-btn.edit").forEach((btn) => {
        btn.addEventListener("click", function () {
          document.querySelector(".modal-header h3").textContent =
            "Chỉnh sửa sách";
          bookModal.classList.add("show");
        });
      });

      // Chatbot Toggle
      document
        .querySelector(".chatbot-button")
        .addEventListener("click", function () {
          const chatWindow = document.querySelector(".chatbot-window");
          if (chatWindow.style.display === "flex") {
            chatWindow.style.display = "none";
          } else {
            chatWindow.style.display = "flex";
          }
        });

      // Close Chatbot
      document
        .querySelector(".close-btn")
        .addEventListener("click", function () {
          document.querySelector(".chatbot-window").style.display = "none";
        });

      // Send Message
      document
        .querySelector(".chat-input button")
        .addEventListener("click", sendMessage);
      document
        .querySelector(".chat-input input")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            sendMessage();
          }
        });

      function sendMessage() {
        const input = document.querySelector(".chat-input input");
        const message = input.value.trim();

        if (message) {
          // Add user message
          addMessage("user", message);

          // Clear input
          input.value = "";

          // Simulate bot response (you would replace this with actual AI response)
          setTimeout(() => {
            simulateBotResponse(message);
          }, 1000);
        }
      }

      function addMessage(sender, text) {
        const chatMessages = document.querySelector(".chat-messages");
        const now = new Date();
        const time =
          now.getHours() +
          ":" +
          (now.getMinutes() < 10 ? "0" : "") +
          now.getMinutes();

        const messageDiv = document.createElement("div");
        messageDiv.className = `message ${sender}`;

        messageDiv.innerHTML = `
                <div class="bubble">${text}</div>
                <div class="time">${time}</div>
            `;

        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      function simulateBotResponse(userMessage) {
        let botResponse = "";

        // Simple pattern matching (in a real app, this would be your AI model)
        if (
          userMessage.toLowerCase().includes("xin chào") ||
          userMessage.toLowerCase().includes("hello") ||
          userMessage.toLowerCase().includes("hi")
        ) {
          botResponse = "Xin chào! Tôi có thể giúp gì cho bạn?";
        } else if (userMessage.toLowerCase().includes("tìm sách")) {
          botResponse =
            "Để tìm sách, bạn có thể cho tôi biết tên sách, tác giả hoặc chủ đề bạn quan tâm.";
        } else if (userMessage.toLowerCase().includes("mượn sách")) {
          botResponse =
            'Để mượn sách, bạn cần đăng nhập vào tài khoản thư viện của mình, tìm sách bạn muốn mượn và nhấn nút "Mượn". Bạn có thể mượn tối đa 5 quyển sách trong thời hạn 14 ngày.';
        } else if (userMessage.toLowerCase().includes("trả sách")) {
          botResponse =
            "Bạn có thể trả sách trực tiếp tại thư viện hoặc sử dụng hộp trả sách tự động. Đừng quên trả sách đúng hạn để tránh phí phạt nhé!";
        } else if (userMessage.toLowerCase().includes("gia hạn")) {
          botResponse =
            "Bạn có thể gia hạn sách đang mượn tối đa 2 lần, mỗi lần 7 ngày. Để gia hạn, vui lòng truy cập vào tài khoản của bạn và chọn sách cần gia hạn.";
        } else {
          botResponse =
            "Tôi chưa hiểu rõ câu hỏi của bạn. Bạn có thể diễn đạt theo cách khác được không?";
        }

        addMessage("bot", botResponse);
      }
    </script>
  </body>
</html>
